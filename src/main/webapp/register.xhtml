<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:p="http://primefaces.org/ui" >

<head>
    <title>Welcome to Shop Johnson</title>
</head>
<h:body>
    <ui:composition template="./WEB-INF/templates/basicTemplate.xhtml">
        <ui:define name="content">
            <f:view>
                <div>
                    <h1>Welcome to Shop Johnson registration</h1>
                    <h3 style="color: black">This is the shop where you can buy almost anything (including some delicious broc) </h3>

                </div>
                <h:graphicImage style="height: 300px" value="https://img3.stockfresh.com/files/k/kurhan/m/89/7825825_stock-photo-black-man-with-broccoli.jpg"/>
                <h:form>
                    <h:panelGrid columns ="2" cellpadding="5">
                        <p:outputLabel for="username" value="Username*:" />
                        <p:inputText id="username" value="#{registrationModel.customer.username}" placeholder="Username"/>

                        <p:outputLabel for="firstname" value="Firstname*: " />
                        <p:inputText id="firstname" value="#{registrationModel.customer.firstname}" placeholder="Firstname"/>

                        <p:outputLabel for="lastname" value="Lastname*: " />
                        <p:inputText id="lastname" value="#{registrationModel.customer.lastname}" placeholder="Lastname" />
                        
                        <p:outputLabel for="password" value="Password*:" />
                        <p:password id="password" value="#{registrationModel.customer.password}" placeholder="Password"/>
                        
                        <p:outputLabel for="postalcode" value="Postalcode:" />
                        <p:inputText id="postalcode" value="#{registrationModel.address.plz}" placeholder="Postal code" />

                        <p:outputLabel for = "street" value="Street: " />
                        <p:inputText id="street" value="#{registrationModel.address.street}" placeholder="Street" />

                        <p:outputLabel for = "city" value="City: " />
                        <p:inputText id="city" value="#{registrationModel.address.city}" placeholder="City"/>

                        <p:outputLabel for = "country" value="Country: " />
                        <p:inputText id="country" value="#{registrationModel.address.country}" placeholder="Country"/>

                        <p:commandButton value="Reset" type="reset" />
                        <p:commandButton value="Submit" type="submit" action="#{registrationModel.registerCustomer()}" update="dialog" oncomplete="PF('submit_dialog').show()" />

                        <p:dialog id="dialog" widgetVar="submit_dialog" modal="true" resizable="false" header="#{registrationModel.registrationStatus}" showEffect="fade" hideEffect="fade" >
                            <p:panel>
                                <div style="align-content: center; vertical-align: center; text-align: center">
                                    <h3 style="color: black"> #{registrationModel.registrationMessage} </h3>
                                </div>
                                <div style="align-content: center; vertical-align: center; text-align: center">
                                <p:commandButton value="Back to login" action="#{registrationModel.backToLogin}" />
                                <p:commandButton value="Back to registration" action="#{registrationModel.backToRegistration}" />
                                </div>
                            </p:panel>
                        </p:dialog>
                    </h:panelGrid>
                </h:form>
            </f:view>
        </ui:define>
    </ui:composition>
</h:body>
</html>